{% extends 'base.html' %}

{% block title %} Forgot Password ? {% endblock %}

{% block body %}
<div class="cntnr">
    <div class="center-forgot">
        <form onsubmit="form_status(event)" id="submit_form">
            <div id="inner-error">
              
            </div>
            <div class="input-container">
                <input id="email_address" placeholder="Enter Your Email" required class="form-control" type="text" name="email" id="">
            </div>
            <div style="text-align: -webkit-center;" class="form-group">
                <button style=" background-color:#d8302f;" class="btn-default" type="submit">Submit</button>
            </div>
        </form>
    </div>
</div>

<script>
form = document.querySelector("#submit_form")
function form_status(e) {
     fetch('/forgot', {
    
        method : 'POST',
        body : JSON.stringify({
            email : document.querySelector('#email_address').value
        })
    })
    .then(response => response.json())
    .then(data => {
        err = document.querySelector('#inner-error')
        err.innerHTML = `<div class="alert alert-info" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong>${data.message}!</strong> 
            </div>`
            
        })
        e.preventDefault()
}
</script>

{% endblock %}